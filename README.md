
# Лабораторные работы Автоматизация

## Описание проекта

"Лабораторные работы Автоматизация" — это десктопное приложение для автоматизации управления лабораторными работами. Проект состоит из двух основных частей:
- **Backend**: Реализован на Python с использованием фреймворка Django. Отвечает за серверную логику, API и работу с базой данных SQLite.
- **Frontend**: Построен на React, предоставляет пользовательский интерфейс, который отображается в окне приложения.

Приложение запускается как единый исполняемый файл (.exe), открывается в оконном режиме на весь экран (без изменения размера) и автоматически завершает работу при закрытии окна. Иконка приложения задаётся через файл `Logo.ico`.

---

## Требования

- **Python 3.13**: Для работы backend и сборки.
- **Node.js и npm**: Для сборки frontend.
- **Windows**: Приложение собрано и протестировано на Windows 10.

---

## Установка и настройка

### 1. Backend

1. **Создайте виртуальное окружение**:
   Перейдите в директорию backend и создайте виртуальное окружение:
   ```powershell
   cd C:\Users\Artyom\PycharmProjects\SMTU-TAU\Backend
   python -m venv venv
   ```

2. **Активируйте виртуальное окружение**:
   ```powershell
   .\venv\Scripts\activate
   ```

3. **Установите зависимости**:
   Установите все зависимости из `requirements.txt`:
   ```powershell
   pip install -r requirements.txt
   ```

4. **Выполните миграции базы данных**:
   Создайте и примените миграции для базы данных:
   ```powershell
   python manage.py makemigrations
   python manage.py migrate
   ```

5. **Обновите базу данных с помощью scan_labs**:
   Выполните кастомную команду для сканирования и обновления данных:
   ```powershell
   python manage.py scan_labs
   ```

6. **Тестовый запуск сервера**:
   Проверьте работу сервера:
   ```powershell
   python manage.py runserver
   ```
   Откройте `http://localhost:8000` в браузере для проверки.

### 2. Frontend

1. **Перейдите в директорию frontend**:
   ```powershell
   cd C:\Users\Artyom\PycharmProjects\SMTU-TAU\FrontEnd
   ```

2. **Установите зависимости**:
   Установите npm-пакеты:
   ```powershell
   npm install
   ```

3. **Соберите фронтенд**:
   Создайте сборку в папке `dist`:
   ```powershell
   npm run build
   ```
   Убедитесь, что папка `dist` содержит `index.html` и подкаталог `assets`.

---

## Сборка приложения

1. **Убедитесь, что backend и frontend настроены**:
   - Backend: виртуальное окружение активно, зависимости установлены, миграции выполнены.
   - Frontend: сборка в `dist` готова.

2. **Соберите исполняемый файл с PyInstaller**:
   Выполните команду в директории backend:
   ```powershell
   cd C:\Users\Artyom\PycharmProjects\SMTU-TAU\Backend
   pyinstaller --add-data "C:\Users\Artyom\PycharmProjects\SMTU-TAU\FrontEnd\dist;dist" --add-data "C:\Users\Artyom\PycharmProjects\SMTU-TAU\Backend\config;config" --add-data "C:\Users\Artyom\PycharmProjects\SMTU-TAU\Backend\labs;labs" --add-data "C:\Users\Artyom\PycharmProjects\SMTU-TAU\Backend\db.sqlite3;." -F --noconsole --icon "C:\Users\Artyom\PycharmProjects\SMTU-TAU\Backend\Logo.ico" --name "Лабораторные работы Автоматизация" runserver.py
   ```

3. **Запустите приложение**:
   После сборки найдите `.exe` в `dist`:
   ```powershell
   cd C:\Users\Artyom\PycharmProjects\SMTU-TAU\Backend\dist
   .\"Лабораторные работы Автоматизация.exe"
   ```

---

## Особенности сборки

- Приложение открывается в окне на весь экран без возможности изменения размера.
- Используется `pywebview` для отображения интерфейса React внутри окна.
- Django-сервер запускается автоматически с командой `scan_labs` для обновления базы данных.
- Иконка приложения задаётся через `Logo.ico`.
- Консоль скрыта благодаря опции `--noconsole`.

---

## Устранение неполадок

- **Ошибка запуска**: Уберите `--noconsole` из команды PyInstaller, чтобы увидеть логи, и проверьте ошибки.
- **Иконка не отображается**: Убедитесь, что `Logo.ico` — валидный файл формата `.ico` (например, 256x256).
- **База данных не обновляется**: Исключите `db.sqlite3` из сборки, убрав `--add-data "db.sqlite3;."`, чтобы файл создавался при запуске.

---

## Лицензия

Проект разработан для учебных целей и не имеет определённой лицензии.

### Разъяснение
- **Описание проекта**: Кратко объясняет, что это за приложение и из чего оно состоит.
- **Требования**: Указаны основные зависимости.
- **Инструкции**: Подробно описаны шаги для backend (создание окружения, миграции, `scan_labs`, тест сервера) и frontend (установка и сборка).
- **Сборка**: Приведена точная команда PyInstaller с пояснениями особенностей.
- **Устранение неполадок**: Полезные советы для диагностики.

Сохраните этот текст как `README.md` в корне проекта (`C:\Users\Artyom\PycharmProjects\SMTU-TAU`). Если нужно что-то дополнить или перевести на русский, дайте знать!
